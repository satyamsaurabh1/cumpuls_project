{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Welcome\\\\Desktop\\\\All Files\\\\Mern Project\\\\creatorconnect-backend\\\\frontend\\\\src\\\\pages\\\\Messages.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { useSocket } from '../context/SocketContext';\nimport api from '../config/api';\nimport { FiSend, FiArrowLeft, FiMoreVertical, FiUser, FiCheck, FiCheckCheck } from 'react-icons/fi';\nimport { formatDistanceToNow, format } from 'date-fns';\nimport toast from 'react-hot-toast';\nimport './Messages.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Messages = () => {\n  _s();\n  const {\n    userId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const {\n    sendMessage,\n    joinConversation,\n    isOnline,\n    startTyping,\n    stopTyping\n  } = useSocket();\n  const [conversations, setConversations] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [typingUser, setTypingUser] = useState(null);\n  const messagesEndRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n  useEffect(() => {\n    fetchConversations();\n  }, []);\n  useEffect(() => {\n    if (userId) {\n      fetchConversation(userId);\n      joinConversation(userId);\n    }\n  }, [userId]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const fetchConversations = async () => {\n    try {\n      const response = await api.get('/messages/conversations');\n      setConversations(response.data);\n    } catch (error) {\n      toast.error('Failed to load conversations');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchConversation = async otherUserId => {\n    try {\n      const response = await api.get(`/messages/${otherUserId}`);\n      setMessages(response.data);\n\n      // Find and set selected user\n      if (response.data.length > 0) {\n        const otherUser = response.data[0].sender._id === user._id ? response.data[0].receiver : response.data[0].sender;\n        setSelectedUser(otherUser);\n      } else {\n        // If no messages yet, fetch user details\n        const userResponse = await api.get(`/users/${otherUserId}`);\n        setSelectedUser(userResponse.data);\n      }\n    } catch (error) {\n      toast.error('Failed to load conversation');\n    }\n  };\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedUser) return;\n    sendMessage(selectedUser._id, newMessage);\n    setNewMessage('');\n    stopTyping(selectedUser._id);\n  };\n  const handleTyping = () => {\n    if (!selectedUser) return;\n    startTyping(selectedUser._id);\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n    typingTimeoutRef.current = setTimeout(() => {\n      stopTyping(selectedUser._id);\n    }, 1000);\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const formatMessageTime = timestamp => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffInDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));\n    if (diffInDays === 0) {\n      return format(date, 'hh:mm a');\n    } else if (diffInDays === 1) {\n      return 'Yesterday';\n    } else if (diffInDays < 7) {\n      return format(date, 'EEEE');\n    } else {\n      return format(date, 'MMM d, yyyy');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading messages...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"messages-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `conversations-sidebar ${userId ? 'hidden-mobile' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"conversations-list\",\n        children: [conversations.map(conv => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `conversation-item ${conv.user._id === userId ? 'active' : ''}`,\n          onClick: () => navigate(`/messages/${conv.user._id}`),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"conversation-avatar\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: conv.user.avatar,\n              alt: conv.user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this), isOnline(conv.user._id) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"online-dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"conversation-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"conversation-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"conversation-name\",\n                children: conv.user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"conversation-time\",\n                children: formatMessageTime(conv.lastMessage.createdAt)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"conversation-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"last-message\",\n                children: [conv.lastMessage.sender._id === user._id ? 'You: ' : '', conv.lastMessage.content]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this), conv.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"unread-badge\",\n                children: conv.unreadCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)]\n        }, conv.user._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)), conversations.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-conversations\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No conversations yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"no-conversations-sub\",\n            children: \"Go to the dashboard to connect with other creators\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-area ${!userId ? 'hidden-mobile' : ''}`,\n      children: selectedUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-button\",\n            onClick: () => navigate('/messages'),\n            children: /*#__PURE__*/_jsxDEV(FiArrowLeft, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-user-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: selectedUser.avatar,\n              alt: selectedUser.name,\n              className: \"chat-avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-user-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: selectedUser.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `user-status ${isOnline(selectedUser._id) ? 'online' : ''}`,\n                children: isOnline(selectedUser._id) ? 'Online' : 'Offline'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"header-action\",\n            children: /*#__PURE__*/_jsxDEV(FiMoreVertical, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-list\",\n          children: [messages.map((msg, index) => {\n            var _messages;\n            const isOwnMessage = msg.sender._id === user._id;\n            const showAvatar = index === 0 || ((_messages = messages[index - 1]) === null || _messages === void 0 ? void 0 : _messages.sender._id) !== msg.sender._id;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message-wrapper ${isOwnMessage ? 'own' : ''}`,\n              children: [!isOwnMessage && showAvatar && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: msg.sender.avatar,\n                alt: msg.sender.name,\n                className: \"message-avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message-bubble ${isOwnMessage ? 'own' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"message-content\",\n                  children: msg.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"message-time\",\n                    children: format(new Date(msg.createdAt), 'hh:mm a')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 25\n                  }, this), isOwnMessage && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"message-status\",\n                    children: msg.read ? /*#__PURE__*/_jsxDEV(FiCheckCheck, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 41\n                    }, this) : /*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 60\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this)]\n            }, msg._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this);\n          }), typingUser && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-indicator\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSendMessage,\n          className: \"message-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            onKeyUp: handleTyping,\n            placeholder: \"Type a message...\",\n            className: \"message-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"send-button\",\n            disabled: !newMessage.trim(),\n            children: /*#__PURE__*/_jsxDEV(FiSend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-chat-selected\",\n        children: [/*#__PURE__*/_jsxDEV(FiMessageCircle, {\n          className: \"no-chat-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Select a conversation to start chatting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n_s(Messages, \"LhSUg10Y214W+kLfnCimNWGNNco=\", false, function () {\n  return [useParams, useNavigate, useAuth, useSocket];\n});\n_c = Messages;\nexport default Messages;\nvar _c;\n$RefreshReg$(_c, \"Messages\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","useAuth","useSocket","api","FiSend","FiArrowLeft","FiMoreVertical","FiUser","FiCheck","FiCheckCheck","formatDistanceToNow","format","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Messages","_s","userId","navigate","user","sendMessage","joinConversation","isOnline","startTyping","stopTyping","conversations","setConversations","messages","setMessages","newMessage","setNewMessage","selectedUser","setSelectedUser","loading","setLoading","typingUser","setTypingUser","messagesEndRef","typingTimeoutRef","fetchConversations","fetchConversation","scrollToBottom","response","get","data","error","otherUserId","length","otherUser","sender","_id","receiver","userResponse","handleSendMessage","e","preventDefault","trim","handleTyping","current","clearTimeout","setTimeout","_messagesEndRef$curre","scrollIntoView","behavior","formatMessageTime","timestamp","date","Date","now","diffInDays","Math","floor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","conv","onClick","src","avatar","alt","name","lastMessage","createdAt","content","unreadCount","msg","index","_messages","isOwnMessage","showAvatar","read","ref","onSubmit","type","value","onChange","target","onKeyUp","placeholder","disabled","FiMessageCircle","_c","$RefreshReg$"],"sources":["C:/Users/Welcome/Desktop/All Files/Mern Project/creatorconnect-backend/frontend/src/pages/Messages.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useSocket } from '../context/SocketContext';\r\nimport api from '../config/api';\r\nimport { FiSend, FiArrowLeft, FiMoreVertical, FiUser, FiCheck, FiCheckCheck } from 'react-icons/fi';\r\nimport { formatDistanceToNow, format } from 'date-fns';\r\nimport toast from 'react-hot-toast';\r\nimport './Messages.css';\r\n\r\nconst Messages = () => {\r\n  const { userId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { sendMessage, joinConversation, isOnline, startTyping, stopTyping } = useSocket();\r\n  const [conversations, setConversations] = useState([]);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [typingUser, setTypingUser] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    fetchConversations();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      fetchConversation(userId);\r\n      joinConversation(userId);\r\n    }\r\n  }, [userId]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const fetchConversations = async () => {\r\n    try {\r\n      const response = await api.get('/messages/conversations');\r\n      setConversations(response.data);\r\n    } catch (error) {\r\n      toast.error('Failed to load conversations');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchConversation = async (otherUserId) => {\r\n    try {\r\n      const response = await api.get(`/messages/${otherUserId}`);\r\n      setMessages(response.data);\r\n      \r\n      // Find and set selected user\r\n      if (response.data.length > 0) {\r\n        const otherUser = response.data[0].sender._id === user._id\r\n          ? response.data[0].receiver\r\n          : response.data[0].sender;\r\n        setSelectedUser(otherUser);\r\n      } else {\r\n        // If no messages yet, fetch user details\r\n        const userResponse = await api.get(`/users/${otherUserId}`);\r\n        setSelectedUser(userResponse.data);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to load conversation');\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || !selectedUser) return;\r\n\r\n    sendMessage(selectedUser._id, newMessage);\r\n    setNewMessage('');\r\n    stopTyping(selectedUser._id);\r\n  };\r\n\r\n  const handleTyping = () => {\r\n    if (!selectedUser) return;\r\n\r\n    startTyping(selectedUser._id);\r\n\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      stopTyping(selectedUser._id);\r\n    }, 1000);\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const formatMessageTime = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffInDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffInDays === 0) {\r\n      return format(date, 'hh:mm a');\r\n    } else if (diffInDays === 1) {\r\n      return 'Yesterday';\r\n    } else if (diffInDays < 7) {\r\n      return format(date, 'EEEE');\r\n    } else {\r\n      return format(date, 'MMM d, yyyy');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading messages...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"messages-container\">\r\n      {/* Conversations Sidebar */}\r\n      <div className={`conversations-sidebar ${userId ? 'hidden-mobile' : ''}`}>\r\n        <div className=\"sidebar-header\">\r\n          <h2>Messages</h2>\r\n        </div>\r\n        <div className=\"conversations-list\">\r\n          {conversations.map((conv) => (\r\n            <div\r\n              key={conv.user._id}\r\n              className={`conversation-item ${conv.user._id === userId ? 'active' : ''}`}\r\n              onClick={() => navigate(`/messages/${conv.user._id}`)}\r\n            >\r\n              <div className=\"conversation-avatar\">\r\n                <img src={conv.user.avatar} alt={conv.user.name} />\r\n                {isOnline(conv.user._id) && <span className=\"online-dot\"></span>}\r\n              </div>\r\n              <div className=\"conversation-info\">\r\n                <div className=\"conversation-header\">\r\n                  <h3 className=\"conversation-name\">{conv.user.name}</h3>\r\n                  <span className=\"conversation-time\">\r\n                    {formatMessageTime(conv.lastMessage.createdAt)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"conversation-preview\">\r\n                  <p className=\"last-message\">\r\n                    {conv.lastMessage.sender._id === user._id ? 'You: ' : ''}\r\n                    {conv.lastMessage.content}\r\n                  </p>\r\n                  {conv.unreadCount > 0 && (\r\n                    <span className=\"unread-badge\">{conv.unreadCount}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {conversations.length === 0 && (\r\n            <div className=\"no-conversations\">\r\n              <p>No conversations yet</p>\r\n              <p className=\"no-conversations-sub\">\r\n                Go to the dashboard to connect with other creators\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Area */}\r\n      <div className={`chat-area ${!userId ? 'hidden-mobile' : ''}`}>\r\n        {selectedUser ? (\r\n          <>\r\n            <div className=\"chat-header\">\r\n              <button\r\n                className=\"back-button\"\r\n                onClick={() => navigate('/messages')}\r\n              >\r\n                <FiArrowLeft />\r\n              </button>\r\n              <div className=\"chat-user-info\">\r\n                <img\r\n                  src={selectedUser.avatar}\r\n                  alt={selectedUser.name}\r\n                  className=\"chat-avatar\"\r\n                />\r\n                <div className=\"chat-user-details\">\r\n                  <h3>{selectedUser.name}</h3>\r\n                  <span className={`user-status ${isOnline(selectedUser._id) ? 'online' : ''}`}>\r\n                    {isOnline(selectedUser._id) ? 'Online' : 'Offline'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <button className=\"header-action\">\r\n                <FiMoreVertical />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"messages-list\">\r\n              {messages.map((msg, index) => {\r\n                const isOwnMessage = msg.sender._id === user._id;\r\n                const showAvatar = index === 0 || \r\n                  messages[index - 1]?.sender._id !== msg.sender._id;\r\n\r\n                return (\r\n                  <div\r\n                    key={msg._id}\r\n                    className={`message-wrapper ${isOwnMessage ? 'own' : ''}`}\r\n                  >\r\n                    {!isOwnMessage && showAvatar && (\r\n                      <img\r\n                        src={msg.sender.avatar}\r\n                        alt={msg.sender.name}\r\n                        className=\"message-avatar\"\r\n                      />\r\n                    )}\r\n                    <div className={`message-bubble ${isOwnMessage ? 'own' : ''}`}>\r\n                      <p className=\"message-content\">{msg.content}</p>\r\n                      <div className=\"message-meta\">\r\n                        <span className=\"message-time\">\r\n                          {format(new Date(msg.createdAt), 'hh:mm a')}\r\n                        </span>\r\n                        {isOwnMessage && (\r\n                          <span className=\"message-status\">\r\n                            {msg.read ? <FiCheckCheck /> : <FiCheck />}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              {typingUser && (\r\n                <div className=\"typing-indicator\">\r\n                  <span></span>\r\n                  <span></span>\r\n                  <span></span>\r\n                </div>\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            <form onSubmit={handleSendMessage} className=\"message-input-container\">\r\n              <input\r\n                type=\"text\"\r\n                value={newMessage}\r\n                onChange={(e) => setNewMessage(e.target.value)}\r\n                onKeyUp={handleTyping}\r\n                placeholder=\"Type a message...\"\r\n                className=\"message-input\"\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                className=\"send-button\"\r\n                disabled={!newMessage.trim()}\r\n              >\r\n                <FiSend />\r\n              </button>\r\n            </form>\r\n          </>\r\n        ) : (\r\n          <div className=\"no-chat-selected\">\r\n            <FiMessageCircle className=\"no-chat-icon\" />\r\n            <h3>Your Messages</h3>\r\n            <p>Select a conversation to start chatting</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}